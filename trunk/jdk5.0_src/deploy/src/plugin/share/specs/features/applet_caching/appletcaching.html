<!-- Copyright 1998 Sun Microsystems, Inc. All Rights Reserved. -->
<!-- "@(#)index.html	1.32 99/08/27 Sun Microsystems" -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>


<!------------------------------->
<!--      ABOUT THIS HTML      -->
<!------------------------------->
<!-- FOLLOW THESE COMMENTS FOR -->
<!--   INFORMATION ABOUT THE   -->
<!-- STRUCTURE OF OUR TEMPLATES-->
<!------------------------------->

<!------------------------------->
<!--   INSERT YOUR TITLE HERE  -->
<!------------BEGIN-TITLE-------->

<TITLE>Applet Caching/Installation in Java Plug-in</TITLE>

<!-------------END-TITLE--------->
<!--        END OF TITLE       -->
<!------------------------------->
</HEAD>
<BODY BGCOLOR="#FFFFFF"  TEXT="#000000">

<!-- begin main page table -->
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0">
<TR>
<TD WIDTH="157" VALIGN="TOP">

<!------------------------------->
<!--  SERVER SIDE INCLUDE FOR  -->
<!--  NAVIGATION MENU AT LEFT  -->
<!------------------------------->


        <!-- Begin Navbar Segment -->

        <TABLE BORDER="0">
        <TR VALIGN=TOP>
           <TD WIDTH="155">
              <IMG SRC="pixel.gif" HEIGHT="20" WIDTH="20" ALT="">

              <A HREF="/"><IMG SRC="javalogo52x88.gif" border="0" height="88" width="52" ALT="Java Technology Home Page"></A><BR>

<TABLE BORDER="0" CELLSPACING="0" CELLPADDING="3" WIDTH="157">

<!-- the following spacer ensures that the -->
<!--   table is at least 157 pixels wide   -->

<TR><TD></TD></TR>

<!-- tab categories -->

<TR><TD></TD>
<TD><A HREF="/products/">
<IMG SRC="side.tab.products.gif" height="15" width="130"
BORDER="0" ALT="Downloads, APIs, Documentation"></A></TD>
</TR>

<TR><TD></TD>
<TD><A HREF="/jdc/">
<IMG SRC="side.tab.developer.gif" height="15" width="130"
BORDER="0" ALT="Java Developer Connection"></A></TD>
</TR>

<TR><TD></TD>
<TD><A HREF="/infodocs/"><IMG SRC="side.tab.docs.gif" height="15" width="130"
BORDER="0" ALT="Docs, Tutorials, Tech Articles, Training"></A></TD>
</TR>

<TR><TD></TD>
<TD><A HREF="/support/"><IMG SRC="side.tab.support.gif" height="15" width="130"
BORDER="0" ALT="Online Support"></A></TD>
</TR>

<TR><TD></TD>
<TD><A HREF="/community/">
<IMG SRC="side.tab.community.gif" height="15" width="130" BORDER="0" ALT="Community Discussion"></A></TD>
</TR>

<TR><TD></TD>
<TD><A HREF="/industry">
<IMG SRC="side.tab.news.gif" height="15" width="130"
BORDER="0" ALT="News & Events from Everywhere"></A></TD>
</TR>

<TR><TD></TD>
<TD><A HREF="/solutions/">
<IMG SRC="side.tab.solutions.gif" height="15" width="130"
BORDER="0" ALT="Products from Everywhere"></A></TD>
</TR>

<TR><TD></TD>
<TD><A HREF="/casestudies/">
<IMG SRC="side.tab.case.gif" height="15" width="130"
BORDER="0" ALT="How Java Technology is Used Worldwide"></A></TD>
</TR>

<TR><TD></TD><TD></TD></TR>

</TABLE>
	   <P>
          </TD>
        </TR>
        </TABLE>

        <!-- End Navbar Segment -->



</TD>
<TD WIDTH="452" VALIGN="TOP">
<!--  begin header table -->
<TABLE BORDER="0" WIDTH="452">

<!------------------------------->
<!--  SERVER SIDE INCLUDE FOR  -->
<!--  HEADER AT TOP OF PAGE    -->
<!------------------------------->


          <!-- Begin Header Segment -->

          <TR>
            <TD>

<FORM method=GET action="http://search.java.sun.com/query.html">
<input type=hidden name=col value="jsun">
<input type=hidden name=pw value="100%">
<input type=hidden name=ws value="0">
<input type=hidden name=nh value="10">
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%">
<TR>
<TD ALIGN="RIGHT"><IMG SRC="stripelt.gif" width=6 height=14 ALT=""></TD>
<TD WIDTH="100%">
  <TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%">
  <TR><TD BGCOLOR="#CC9966" WIDTH="100%"><IMG SRC="pixel.gif" HEIGHT=2 WIDTH=1 ALT=""></TD></TR>
  <TR><TD><IMG SRC="pixel.gif" HEIGHT=2 WIDTH=1 ALT=""></TD></TR>
  <TR><TD BGCOLOR="#CC9966"><IMG SRC="pixel.gif" HEIGHT=2 WIDTH=1 ALT=""></TD></TR>
  <TR><TD><IMG SRC="pixel.gif" HEIGHT=2 WIDTH=1 ALT=""></TD></TR>
  <TR><TD BGCOLOR="#CC9966"><IMG SRC="pixel.gif" HEIGHT=2 WIDTH=1 ALT=""></TD></TR>
  <TR><TD><IMG SRC="pixel.gif" HEIGHT=2 WIDTH=1 ALT=""></TD></TR>
  <TR><TD BGCOLOR="#CC9966"><IMG SRC="pixel.gif" HEIGHT=2 WIDTH=1 ALT=""></TD></TR>
  </TABLE></TD>
<TD ALIGN="LEFT"><IMG SRC="stripert.gif" width=6 height=14 ALT=""></TD>

<TD><TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0">
  <TR><TD VALIGN="CENTER"><A HREF="/a-z/"><IMG SRC="azindex.gif" width=72 height=11 ALT="A-Z Index" BORDER="0"></A></TD>
  <TD VALIGN="CENTER"><FONT FACE="Helvetica" SIZE="1"><INPUT TYPE="text" SIZE="15" MAXLENGTH="2033" NAME=qt></FONT></TD>
  <TD VALIGN="CENTER"><INPUT TYPE="image" SRC="search.button.gif" value="search" name="search" width=55 height=14 ALT="Search the Site" BORDER="0"></TD></TR></TABLE></TD>

</TR>

</TABLE></FORM><P>



<TABLE BORDER="0" WIDTH="100%" CELLPADDING="0" CELLSPACING="0">
<TR VALIGN="TOP">
<TD WIDTH="100%"><IMG SRC="pixel.gif" HEIGHT=18 WIDTH=20></TD>
<TD ROWSPAN="3" ALIGN="RIGHT" WIDTH="152">
<A HREF="/"><IMG SRC="thesourceforjava.gif" width=389 height=42 ALT="The Source for Java Technology" BORDER=0></A></TD></TR>
<TR VALIGN="TOP">
<TD BGCOLOR="#CC9966" HEIGHT="1" WIDTH="100%">
  <IMG SRC="pixel.gif" height=1 width=1></TD></TR>
<TR VALIGN="TOP">
<TD WIDTH="100%"><IMG SRC="pixel.gif" WIDTH=20 HEIGHT=20></TD>
<TD ALIGN="RIGHT"></TD></TR>
</TABLE>


            </TD>
          </TR>

          <!-- End Header Segment -->


<!-- breadcrumb trail -->
<TR>
<TD ALIGN="RIGHT" HEIGHT="25" VALIGN="TOP">

</TD>
</TR>
<TR>
<TD>
<P>
</TD>
</TR>
<TR>
<TD ALIGN="RIGHT" COLSPAN="2">

<!-- page headline -->

<!------------------------------->
<!--EDIT THE PAGE HEADLINE HERE-->
<!------------BEGIN-HEADLINE----->

<FONT SIZE="+2">
<b>Applet Caching/Installation in Java Plug-in</b></FONT><BR>

<!-------------END-HEADLINE------>
<!--    END OF PAGE HEADLINE   -->
<!------------------------------->

</TD>
</TR>
</TABLE>

<!-- Begin Page Data -->

<!------------------------------->
<!--  EDIT PAGE CONTENT HERE   -->
<!------------BEGIN-CONTENT------>
<!-------------END-CONTENT------->
<p>
Applet caching ensures that applets are not unnecessarily downloaded
by a browser every time a user references them.&nbsp;
<p>
 Java Plug-in has
supported disk caching in previous versions by using the same cache the browser
uses for all other web documents. This works for casual applet usage, but larger applets can often 
get flushed from the cache to make room for other documents since 
the browser has no knowledge that an applet file might be needed in the
future. The result is that this caching strategy fails where is 
needed most in large business applets.
<p>
This release introduces an alternative form of applet caching which allows
an applet deployer to decide whether applet should be "sticky", that is, to
stay on the disk in a secondary cache which the browser cannot overwrite.
The only time "sticky" applets get downloaded after that is when they
are updated on their server. Otherwise the applet is always available
for quick loading.  We recommend that applets which provide core
business applications be made sticky to improve their startup performance.<p>
This new feature 
is activated by including the new <tt>&quot;cache_option&quot;</tt>  , <tt>&quot;cache_archive&quot;</tt> 
and<tt> &quot;cache_version&quot; </tt>values in the EMBED/OBJECT tag that specifies the use
of Java Plug-in as below:
<blockquote>
  <pre>
&lt;OBJECT ....&gt;
	 &lt;PARAM NAME=&quot;archive&quot; VALUE=&quot;...&quot;&gt;
	 ....
	 &lt;PARAM NAME=&quot;cache_option&quot; VALUE=&quot;...&quot;&gt;
	 &lt;PARAM NAME=&quot;cache_archive&quot; VALUE=&quot;...&quot;&gt;
	 &lt;PARAM NAME=&quot;cache_version&quot; VALUE=&quot;...&quot;&gt;
&lt;/OBJECT&gt;
</pre><pre>or</pre><pre>&lt;EMBED ....
	 archive=&quot;...&quot;
	 ....
	 cache_option=&quot;...&quot;
	 cache_archive=&quot;...&quot;
	 cache_version=&quot;...&quot;&gt;
</pre>
</blockquote>
<h3>
<b>cache_option</b></h3>
<p>
The <tt>cache_option</tt> attribute can take one of three values:
<blockquote>
<dl>
<dt><b>No</b>
<dd>Disable applet installation. Always download the file from the web server
  without using browser or plug-in cache.
<p>
<dt><b>Browser</b>
<dd>Run applets from the browser cache (default).
<p>
<dt><b>Plugin</b>
<dd>Run applets from the new Java Plug-in cache.<br>
</dl>
</blockquote>
<h3>
<b>cache_archive</b></h3>
<p>
The <tt>cache_archive</tt> attribute contains a list of the files to be cached:
<blockquote><pre>
&lt;PARAM NAME=&quot;cache_archive&quot; VALUE=&quot;a.jar,b.jar,c.jar&quot;&gt;
</pre></blockquote>
<p>
Like the <tt>archive</tt> attribute in the <tt>APPLET</tt> tag, the list of jar
files in the <tt>cache_archive</tt> attribute do not contain the full URL, but
are always downloaded from the <tt>codebase</tt> specified in the 
<tt>EMBED</tt>/<tt>OBJECT</tt> tag.
<p>Note that the list of JAR files in the <tt>cache_archive</tt> attribute and those
in the <tt>archive</tt> attribute may be similar but should not contain the 
same JAR files. There are two possible cases:
<ol>
<li>A JAR file is listed in <tt>cache_archive</tt> but <b>not</b> in 
<tt>archive</tt>. In this case, the JAR file is cached according to 
<tt>cache_option</tt>.<br>
<li>A JAR file is listed in <tt>archive</tt> but <b>not</b> in 
<tt>cache_archive</tt>. In this case, the JAR file is cached using the native
browser cache. This guarantees a minimum of caching.
</ol>
<tt>cache_option</tt> and <tt>cache_archive</tt> can only be
specified once per <tt>EMBED</tt>/<tt>OBJECT</tt> tag. In addition, both attributes
must be specified. If either <tt>cache_archive</tt> or <tt>cache_option</tt> are
missing, Java Plug-in will treat the applet normally using the <tt>archive</tt>
attribute.
<h3><b><br>
cache_version</b></h3>
<p>The <tt>cache_version</tt> is an optional attribute contains a list of
versions of the files to be cached:</p>
<blockquote>
  <pre>&lt;PARAM NAME=&quot;cache_version&quot; VALUE=&quot;1.2.0.1, 2.1.1.2, 1.1.2.7&quot;&gt;</pre>
</blockquote>
<p>Each version number is in the form of X.X.X.X which X could be from 0 to F in
hexadecimal. Each version number is correpsonding to the jar file in the <tt>cache_archive</tt>.<br>
</p>
<h3>Applet caching update Algorithm&nbsp;</h3>
<p>By default, without <tt>cache_version</tt> attribute, applet caching will be
updated if&nbsp;</p>
<ul>
  <li>The <tt>cache_archive</tt>  has not been cached before, or</li>
  <li>The &quot;Modified-Date&quot; of the <tt>cache_archive</tt>  on the web
    server is newer than the one stored locally in the applet cache, or</li>
  <li>The &quot;Content-Length&quot; of the <tt>cache_archive</tt>  on the web
    server is different than the one stored locally in the applet cache.&nbsp;</li>
</ul>
<p>However, in some situations, the &quot;Modified-Date&quot; returned from the
web server through HTTP/HTTPS may not&nbsp; reflect the actual version of the
applets. For example, if the web server crashes and all the files are restored,
the <tt>cache_archive</tt> will have a different modification date on the
server. Even the <tt>cache_archive</tt> has not been updated, it will still
force all the Java Plug-in clients to download the <tt>cache_archive</tt> 
again.</p>
<p>To strongly enforce the version update, we recommend applet deployer to use <tt>cache_version
</tt>attribute. Applet caching will be updated if</p>
<ul>
  <li>The <tt>cache_version </tt>corresponds to the<tt> cache_archive </tt>in
    the EMBED/OBJECT tag is larger than the one stored locally in the applet
    cache.</li>
</ul>
<p>Unlike the default update, <tt>cache_version </tt>will eliminate the extra
connection to the web server to obtain &quot;Modification-Date&quot; and
&quot;Content-Length&quot; of the <tt>cache_archive. </tt>This will speed up
performance in most cases.</p>
<h3>&nbsp;</h3>
<h3>Security&nbsp;</h3>
<p>Although sticky applets are cached locally, it will still be conformed to the
security policy defined by its original codebase and signer.</p>
<p>&nbsp;</p>
<h3><b>Known Limitations</b></h3>
<ul>
  <li>Both HTTP/HTTPS could be used with Applet caching; however, <tt>cache_version
    </tt>MUST be used when HTTPS is the protocol. The primary reason is that
    HTTPS in Java Plug-in is supported by using browser native API, and in some
    cases, the browser native API doesn't return information like
    &quot;Modification-Date&quot; and &quot;Content-Length&quot; properly. As a
    result, using HTTPS without <tt>cache_version </tt>may force the <tt>cache_archive</tt>
    to be downloaded every time the applet is loaded.<br>
  </li>
  <li>Caching of the JAR files specified in the manifest's Class-Path variable using Java Plug-in's cache is currently not supported.

<!--     END OF PAGE DATA      -->
<!------------------------------->

    &nbsp;<br>

  </li>
  <li>JAR files should either be listed in <tt>archive</tt>
    or <tt>cache_archive</tt>, but not both, or it may confuse Java Plug-in.<br>

  </li>
  <li>The path specified in the <tt>cache_archive</tt>
    must be a relative URL to the applet's codebase. Full URL is not supported
    in <tt>cache_archive</tt>
    .

  </li>
</ul>

<TABLE BORDER="0" WIDTH="452">
<TR>
<TD ALIGN="RIGHT" VALIGN="TOP">

<p>
</TD>
</TR>
</TABLE>


</TD>
</TR>
<TR>
<TD WIDTH="157" VALIGN="TOP">



</TD>
<TD WIDTH="452" VALIGN="TOP">


</TD>
</TR>
</TABLE>

<!-- Footer table -->

<!------------------------------->
<!--  SERVER SIDE INCLUDE FOR  -->
<!--  FOOTER AT BOTTOM OF PAGE -->
<!------------------------------->

<!-- Begin Footer Segment -->

<BR CLEAR="ALL">

<TABLE WIDTH="100%" CELLPADDING="0" BORDER="0" CELLSPACING="5">   
<TR>
	<TD VALIGN="TOP">
	<P ALIGN=CENTER>
	<FONT SIZE="-1" COLOR="#999999">[ This page was updated: 02-Dec-99 ]</font></P>
	</TD>
</TR>
<TR>
	<TD BGCOLOR="#CCCCCC">
	<SPACER TYPE="BLOCK" HEIGHT="1" WIDTH="1"></TD>
</TR>
<TR>
	<TD>
	<CENTER>
	<FONT SIZE="-1">
	<A HREF="/products/">Products &amp; APIs</A> | 
	<A HREF="/jdc/">Developer Connection</A> | 
	<A HREF="/infodocs/">Docs &amp; Training</A> | 
	<A HREF="/support/">Support</A><BR>
	<A HREF="/community/">Community Discussion</A> |
	<A HREF="/industry/">Industry News</A> | 
	<A HREF="/solutions/">Solutions Marketplace</A> | 
	<A HREF="/casestudies/">Case Studies</A>
	</FONT>
	</CENTER>
	</TD>
</TR>
<TR>
	<TD BGCOLOR="#CCCCCC">
	<SPACER TYPE="BLOCK" HEIGHT="1" WIDTH="1"></TD>
</TR>
<TR>
	<TD ALIGN="CENTER">
	<FONT SIZE="-2">
	<A HREF="/docs/glossary.html">Glossary</A> - 
	<A HREF="/applets/">Applets</A> - 
	<A HREF="/docs/books/tutorial/">Tutorial</A> - 
	<A HREF="/jobs/">Employment</A> - 
	<A HREF="/nav/business/">Business &amp; Licensing</A> - 
	<A HREF="/javastore/">Java Store</A> -
	<A HREF="/casestudies/">Java in the Real World</A>
	</FONT>
	</TD>
</TR>

<TR>
	<TD>
	<CENTER>
	<FONT SIZE="-2">
	<a href="/cgi-bin/feedback.pl">Feedback</a> | 
	<a href="http://www.dynamicdiagrams.net/mapa/cgi-bin/help.tcl?db=javasoft&dest=http://java.sun.com/">Map</a> | 
	<A HREF="/a-z/index.html">A-Z Index</A>
	</FONT>
	</CENTER>
	<P>
	</TD>
</TR>
<TR>
	<TD>
		<TABLE WIDTH="100%" CELLPADDING="0" BORDER="0" CELLSPACING="0">
		<TR>
		<TD WIDTH="50%">
		<FONT SIZE="-2">
		For more information on Java technology<BR>
		and other software from Sun Microsystems, call:<BR>
		</FONT>
		<FONT SIZE="-1">
		(800) 786-7638<BR></FONT>
		<FONT SIZE="-2">
		Outside the U.S. and Canada, dial your country's <A HREF="http://www.att.com/business_traveler/attdirecttollfree/">AT&amp;T&nbsp;Direct&nbsp;Access&nbsp;Number</A> first.<BR>
		</FONT>
		</TD>
		<TD ALIGN="RIGHT" WIDTH="50%">
		<A HREF="http://www.sun.com">
		<IMG SRC="lgsun.gif" width="64"
		height="30" border="0" ALT="Sun Microsystems, Inc."></A><BR>
		<FONT SIZE="-2">
		Copyright &copy; 1995-2000
		<A HREF="http://www.sun.com">Sun Microsystems, Inc.</A><BR>
		All Rights Reserved. <a
		href="http://www.sun.com/share/text/termsofuse.html">Terms
		of Use</a>. <A HREF="http://www.sun.com/privacy">Privacy&nbsp;Policy</A>.
		</FONT>
		</TD></TR></TABLE>

	</TD>
</TR> 
</TABLE>

<!-- End Footer Segment -->


</BODY>
</HTML>
