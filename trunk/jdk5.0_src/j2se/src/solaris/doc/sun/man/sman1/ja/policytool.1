<!DOCTYPE REFENTRY PUBLIC "-//Sun Microsystems//DTD DocBook V3.0-Based SolBook Subset V2.0//EN" [
<!--ArborText, Inc., 1988-1998, v.4001-->
<!ENTITY % javaents SYSTEM "javaman.ent">
%javaents;
]>
<?Pub UDT _bookmark _target>
<?Pub Inc>
<refentry id="policytool-1">
<!-- @(#)policytool.1 1.4 04/04/02 SMI; -->
<refmeta><refentrytitle>policytool</refentrytitle><manvolnum>1</manvolnum>
<refmiscinfo class="date">2004 年 6 月 22 日</refmiscinfo>
<refmiscinfo class="sectdesc">&man1;</refmiscinfo>
<refmiscinfo class="software">&java-release;</refmiscinfo>
<refmiscinfo class="arch">generic</refmiscinfo>
<refmiscinfo class="copyright">Copyright 2004, Sun Microsystems, Inc. All Rights Reserved.</refmiscinfo>
<indexterm><primary sortas=""></primary></indexterm><indexterm><primary sortas=""></primary></indexterm></refmeta>
<refnamediv><refname>policytool</refname><refpurpose>ポリシーファイル作成および管理ツール</refpurpose></refnamediv>
<refsynopsisdiv><title>&synp-tt;</title>
<cmdsynopsis><command>policytool</command>
</cmdsynopsis></refsynopsisdiv>
<refsect1><title>機能説明</title>
<para>Java 実行環境のポリシーは、さまざまなソースを出所とするコードが、さまざまな主体として実行されるときに、どのようなアクセス権を利用できるかを指定するもので、Policy オブジェクトによって表現されます。デフォルトの Policy の実装は、静的な ASCII 形式のポリシー構成ファイルから情報を取得します。</para>
<para>ポリシーファイルは、簡単なテキストエディタを使用するか、このドキュメントで説明するグラフィカルな Policy Tool ユーティリティを使用して作成できます。Policy Tool を使うと、入力の手間を省けるだけでなく、ポリシーファイルの構文について知る必要がないため、エラーを減らすことができます。</para>
<refsect2><title><?Pub Dtl>Policy Tool の起動</title>
<para>Policy Tool を起動するには、コマンド行に次のように入力します。</para>
<screen>policytool</screen>
<para>[Policy Tool] ウィンドウが表示されます。</para>
<para>Policy Tool は、起動するたびに、「ユーザポリシーファイル」と呼ばれるファイルからポリシー情報を取得して、ウィンドウに表示しようとします。デフォルトのユーザポリシーファイルは、ホームディレクトリにある .java.policy という名前のファイルです。ユーザポリシーファイルが見つからない場合は、そのことを示すメッセージが表示され、空白の [Policy Tool] ウィンドウが表示されます。つまり、ウィンドウに見出しやボタンは表示されますが、データは含まれていません。</para>
<para>Policy Tool を起動したあとは、作業する任意のポリシーファイルを開くことができます。また、ポリシーエントリを追加したり、必要に応じてキーストアを指定したりして、ファイルを保存すれば、新しいポリシーファイルを作成することもできます。</para>
<para>Policy Tool をはじめて実行した時点では、ユーザポリシーファイルは存在していません (手動で作成した場合を除く)。</para>
</refsect2>
<refsect2><title>新しいポリシーファイルの作成</title>
<para>新しいポリシーファイルを作成するには、[ファイル] メニューから [新規] コマンドを選択します。現在開かれているポリシーファイルがあれば、必要に応じてファイルの保存を促すメッセージが表示されたあとで、そのファイルが閉じ、新しい [Policy Tool] ウィンドウが表示されます。そのウィンドウには見出しやボタンが表示されていますが、データは含まれていません。</para>
<para>注: 上記の操作は、Policy Tool をはじめて実行する場合は必要ありません。Policy Tool はユーザポリシーファイルを開こうとしますが、そのファイルがまだ存在しないため (手動で作成した場合を除く)、データが何も含まれていないウィンドウが表示されます。</para>
<para>新しい [Policy Tool] ウィンドウが表示されたら、ポリシーエントリを作成したり、キーストアを指定したり (キーストア別名を指定したポリシーエントリがある場合) することができます。ポリシーファイルは、いつでも保存できます。</para>
</refsect2>
<refsect2><title>ほかのポリシーファイルを開く</title>
<para>現在作業中のポリシーファイルとは別のポリシーファイルで作業するには、[ファイル] メニューの [開く] コマンドを使います。</para>
<para>現在開かれているポリシーファイルがあれば、必要に応じてファイルの保存を促すメッセージが表示されたあとで、そのファイルが閉じ、[開く] ダイアログが表示されます。このダイアログでは、ディレクトリ構造内をナビゲートして、作業するポリシーファイルがあるディレクトリを検索できます。ファイルを選択し、[了解] ボタンを選択します。</para>
<para>選択したポリシーファイルの情報が [Policy Tool] ウィンドウに表示されます。表示される情報は、ポリシーファイル名、キーストアの URL (存在する場合)、そしてポリシーファイル内の各ポリシーエントリの CodeBase、SignedBy、および主体部分です。</para>
</refsect2>
<refsect2><title>キーストアの指定</title>
<para>ポリシーエントリの SignedBy 部分で指定された別名の鍵情報を含むキーストアを指定するには、[編集] メニューの [キーストアの変更] コマンドを選択します。</para>
<para>ダイアログボックスが表示されたら、新しいキーストアの URL と、キーストアのタイプ (省略可能) を指定します。</para>
<para>たとえば、/tests/ ディレクトリにある mykeystore という名前のキーストアを指定するには、[新規キーストアの URL] というラベルの付いたテキストボックスに、次のように file: <replaceable>URL</replaceable> を入力します。</para>
<screen>file:/tests/mykeystore</screen>
<para>また、キーストアのタイプとして JKS (サンがサポートしている独自のキーストアのタイプ) を指定するには、[新規キーストアのタイプ] というラベルの付いたテキストボックスに、次のように入力します。</para>
<screen>JKS</screen>
<para>キーストアの URL と、必要に応じてタイプを指定したら、[了解] を選択します。操作を取り消す場合は、[取消し] を選択します。操作を取り消さなかった場合は、[キーストア:] というラベルのテキストボックスに、指定したキーストアの URL とタイプが表示されます。</para>
</refsect2>
<refsect2><title>新しいポリシーエントリの追加</title>
<para>新しいポリシーエントリを追加するには、[Policy Tool] メインウィンドウで [ポリシーエントリの追加] ボタンを選択します。[ポリシーエントリ] ダイアログボックスが表示されます。</para>
<para>このダイアログボックスでは、次の情報を指定します。</para>
<itemizedlist>
<listitem><para>[CodeBase] エントリ (省略可能)。コードの出所を表す URL を指定します。たとえば、ローカルの /JavaSoft/TESTS/ ディレクトリからのコードを指定するには、[CodeBase] テキストボックスで次のように file: <replaceable>URL</replaceable> を入力します。</para>
<screen>file:/JavaSoft/TESTS/</screen>
</listitem><listitem><para>[SignedBy] エントリ (省略可能)。コードに署名するために使われた非公開鍵を所有する署名者を参照するための、キーストアにある別名を指定します。たとえば、「duke」という別名を指定するには、[SignedBy] テキストボックスに次のように入力します。</para>
<screen>duke</screen>
</listitem><listitem><para>[主体] エントリ (省略可能)。アクセス権が許可されるためには、どの主体としてコードを実行する必要があるかを示す、主体のリストを指定します。「新しい主体の追加」を参照してください。</para>
</listitem><listitem><para>1 つ以上のアクセス権エントリ。CodeBase および SignedBy の値によって指定されたソースを出所とするコード (これらの値が指定されていない場合は任意のコード) に許可するアクセス権を指定します。「新規アクセス権の追加」を参照してください。</para>
</listitem></itemizedlist>
</refsect2>
<refsect2><title>ポリシーファイルの編集</title>
<para>既存のポリシーエントリを編集するには、[Policy Tool] メインウィンドウでそのエントリの行を選択し、[ポリシーエントリの編集] ボタンを選択します。または、エントリの行をダブルクリックするだけでも、そのエントリが編集できるようになります。</para>
<para>新しいポリシーエントリを追加するときと同じ [ポリシーエントリ] ダイアログボックスが表示されます。ただし、この場合は、既存のポリシーエントリの情報が表示されています。表示されている情報を変更するには、CodeBase と SignedBy の値の場合は直接入力し、主体とアクセス権の値の場合はボタンを使用して情報を変更します。</para>
<para>編集が終わったら、[完了] ボタンを選択します。操作を取り消す場合は、[取消し] を選択します。</para>
</refsect2>
<refsect2><title>ポリシーエントリの削除</title>
<para>ポリシーファイルからポリシーエントリを削除するには、[Policy Tool] メインウィンドウでそのエントリの行を選択し、[ポリシーエントリの削除] ボタンを選択します。</para>
<para>選択したポリシーエントリ全体が表示されます。このエントリを削除するには [了解] を選択し、このエントリを削除しない場合は [取消し] を選択します。</para>
</refsect2>
<refsect2><title>ポリシーファイルの保存</title>
<para>既存のポリシーファイルに対する変更内容を保存するには、[ファイル] メニューの [保存] コマンドを選択します。</para>
<para>作成した新しいポリシーファイルを保存したり、既存のポリシーファイルを新しい名前のポリシーファイルにコピーしたりするには、[ファイル] メニューの [別名で保存] コマンドを選択します。[別名で保存] ダイアログボックスが表示されます。</para>
<para>ディレクトリ構造内をナビゲートして、ポリシーファイルの保存先のディレクトリを選択します。ファイル名を入力し、[了解] ボタンを選択します。ポリシーファイルが保存され、そのファイルの名前とパスが、[ポリシーファイル:] というラベルの付いたテキストボックスに表示されます。</para>
</refsect2>
<refsect2><title>Policy Tool の終了</title>
<para>Policy Tool を終了するには、[ファイル] メニューの [終了] コマンドを選択します。</para>
</refsect2>
<refsect2><title>警告ログの表示</title>
<para>Policy Tool が、警告を警告ログに保存したというメッセージを表示した場合は、[ファイル] メニューの [警告ログの表示] コマンドを選択すれば、警告ログを表示できます。</para>
<para>たとえば、ポリシーファイルでキーストアの URL を指定しているが、このキーストアがまだ存在していない場合は、ファイルを開くときなどさまざまな場面で警告が表示されます。警告が存在する場合でも、ポリシーファイルの作業は続行できます。</para>
</refsect2>
</refsect1>
<refsect1><title>関連項目</title>
<para> <ulink url="http://java.sun.com/j2se/1.5/docs/tooldocs/solaris/policytool.html">http://java.sun.com/j2se/1.5/docs/tooldocs/solaris/policytool.html</ulink></para>
<para> <ulink url="http://java.sun.com/j2se/1.5.0/docs/guide/security/permissions.html">http://java.sun.com/j2se/1.5.0/docs/guide/security/permissions.html</ulink></para>
<para> keytool(1)</para>
<para>Java Tutorial のセキュリティ<?Pub Caret>の例にも、ポリシーツールの使い方の例が紹介されています。</para>
</refsect1>
</refentry>
<?Pub *0000006682 0>
